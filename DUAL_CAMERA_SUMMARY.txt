DUAL CAMERA SETUP SUMMARY
=========================

CHANGES MADE:
-------------

1. USB Camera Initialization (main.py):
   - Added device enumeration logging for all video devices
   - Added test to verify device is accessible before creating source
   - Explicitly skips OAK-D devices (by name: oak/depthai/luxonis)
   - Better error handling for device conflicts

2. OAK-D Persistent Pipeline (main.py):
   - Added 0.5s delay after USB camera init to prevent USB conflicts
   - Added device enumeration logging
   - Added USB speed logging
   - Improved error messages to clarify USB camera still works if OAK-D fails

3. Device Detection (_iter_webcam_candidates):
   - Lists all video devices in /dev/v4l/by-id/ with device type
   - Uses stable by-id paths instead of numeric indices
   - Detailed logging of all candidates in priority order

4. Dependencies (requirements.txt):
   - Added opencv-python>=4.8.0 (was missing!)

CAMERA ROLES:
-------------
- USB Camera: Streaming via /video, /camera/stream, WebSocket
- OAK-D: AI vision snapshots via /shot endpoint (face recognition, etc.)

INITIALIZATION ORDER:
---------------------
1. USB camera initializes first
2. 0.5 second delay
3. OAK-D initializes second (persistent pipeline)

This prevents USB bandwidth conflicts during startup.

TESTING:
--------
Run: python3 test_dual_cameras.py

Or test the API:
- USB stream: http://localhost:8000/video
- OAK-D snapshot: http://localhost:8000/shot
